{% extends "books/base.html" %}
{% block title %} Sign Up {% endblock %}

{% load i18n %}
{% load static %}

{% block head_title %}{% trans "Registration" %}{% endblock %}

{% block content %}
	<div class="change_pass_form mt-4">
        <div class="row">
			<div class="col-12 col-md-8 offset-md-2 col-lg-8 offset-lg-2">
				<div class="card-body change_pass_header sign_up_header">
					<h3 class="mb-1">{% trans "REGISTRATION" %}</h3>
				</div>
				<div class="card-body">
					<h6 class="text-center mb-4">
						{% url "two_factor:login" as login_url %}
						{% blocktrans %}
						Already have an account? Then please <a href='{{ login_url }}'>sign in</a>.
						{% endblocktrans %}
					</h6>
					<form method="POST" action="{% url 'account_signup' %}" class="pass_form">
						{% csrf_token %}
						{% for field in form %}
							<div class="form-group">
								{% if field.errors %}
									<div class="custom_alert custom_alert-danger">
										{{ field.errors }}
									</div>
								{% endif %}
								<div class="pass_input_container">
									{% if forloop.counter == 1 %}
										<div class="input-group mb-3">
											<div class="input-group-prepend">
												<span class="input-group-text" id="basic-addon1">
													<img src="{% static 'images/envelope_profile_forms.svg' %}" alt="">
												</span>
											</div>
											<input type="email" value="{{ field.value }}" class="form-control custom_signup_email" id="{{ field.id_for_label }}" placeholder="{{ field.label }}" required="" name="{{ field.name }}" readonly="">
										</div>
									{% elif forloop.counter == 2 %}
										<div class="input-group mb-3">
											<div class="input-group-prepend">
												<span class="input-group-text" id="basic-addon1">
													<img src="{% static 'images/profile_user.svg' %}" alt="">
												</span>
											</div>
											<input type="text" class="form-control" id="{{ field.id_for_label }}" placeholder="{{ field.label }}" required="" name="{{ field.name }}">
										</div>
									{% else %}
										<div class="input-group mb-3">
											<div class="input-group-prepend">
												<span class="input-group-text" id="basic-addon1">
													<img src="{% static 'images/change_password_lock.svg' %}" alt="">
												</span>
											</div>
											<input type="password" class="form-control" id="{{ field.id_for_label }}" placeholder="{{ field.label }}" required="" name="{{ field.name }}">
										</div>
									{% endif %}
								</div>
							</div>
						{% endfor %}
						<div class="form-group change_pass_btn_container">
							<button type="submit" class="change_pass_btn" name="action">{% trans "Register" %}</button>
						</div>
						{% if messages %}
						  <div class="alert alert-danger alert-dismissible fade show">
							{% for message in messages %}
							  <strong>{{message}}</strong>
							{% endfor %}
						  </div>
						{% endif %}
					</form>
				</div>
			</div>
		</div>
	</div>

{% endblock %}

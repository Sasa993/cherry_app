{% extends "books/base.html" %}

{% load i18n %}
{% load static %}

{% block title %} 
	{% trans "All Uploaded Books" %} 
{% endblock %}

{% block content %}
<div class="upload_books_front mt-4">
	<div class="row">
		<div class="col-12 col-md-8 offset-md-2">
		    <div class="card-body upload_books_front_header">
		    	<h3 class="mb-1">{% trans "BOOK UPLOAD" %}</h3>
		    </div>
		    <div class="card-body">
		    	<div class="upload_books_btn_container text-center mt-4">
					<div class="custom_all_upload_books_container">
						{% if all_books %}
							<div class="row justify-content-center align-items-center">
								{% for book in all_books %}
									<div class="col-3">
										<a href="{{ book.id }}">
												<div class="all-uploaded-books-book custom_margin_auto">
													{% if book.cover %}
														<img src="/media/{{ book.cover }}" alt="" />
													{% else %}
														<img src="/static/images/no_cover_cover.jpg" alt="" />
													{% endif %}
												</div>
											<div class="kurcina">
												<div class="kita_card">
												  <div class="card__container">
												    <h1 class="card__title">{{ book.title }}</h1>
												    <p class="card__subtitle">
												    	{% if book.author.all %}
												    		By
															{% for author in book.author.all %}
																{% if forloop.last %}<span>{{ author }}</span>{% else %}<span>{{ author }},</span>{% endif %}
															{% endfor %}
														{% else %}
															Author Not Assigned
														{% endif %}
												    </p>
												  </div>
												</div>
											</div>

											<!--
											<div class="custom_all_upload_books_title">
												{{ book.title }}
											</div>
											<div class="custom_all_upload_books_authors">
												{% if book.author.all %}
													{% for author in book.author.all %}
														By {% if forloop.last %}<span>{{ author }}</span>{% else %}<span>{{ author }},</span>{% endif %}
													{% endfor %}
												{% else %}
													Author Not Assigned
												{% endif %}
											</div>
											-->
										</a>
									</div>
								{% endfor %}
							</div>
						{% else %}
							<h2 class="custom_h1_nobooks">{% trans "There's no books in our database." %}</h2>
						{% endif %}
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}

{% block other_js %}
	<script>
		$(document).ready(function(){
			$('.custom_click').on('click', function(){
				$('#custom_box').slideToggle("slow");
				$('.custom_click').toggleClass('custom_promjena_buttona');
			});
		});
	</script>
	<script src="{% static 'script/sorttable.js' %}"></script>
{% endblock %}
